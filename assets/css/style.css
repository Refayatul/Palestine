:root{
  --red:#ce1126;
  --green:#009736;
  --bg:#111;
  --bg-alt:#1a1a1a;
  --card:#222;
  --text:#fff;
  --muted:#cfcfcf;
  --nav-h:64px; /* will be updated by JS to exact height */
}

/* Reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;padding-top:var(--nav-h);}

/* Utilities */
.container{width:min(1200px,92%);margin-inline:auto}
.section{padding:64px 0}
.section-alt{background:var(--bg-alt)}
.grid{display:grid;gap:24px}
.grid.two{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}
.grid.three{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.grid.four{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}
.cards .card{background:var(--card);border-radius:10px;padding:20px;box-shadow:0 8px 24px rgba(0,0,0,.25);transition:.25s}
.cards .card:hover{transform:translateY(-4px)}
h1,h2,h3,h4{line-height:1.25}
h1{font-weight:800;font-size:clamp(28px,4vw,40px)}
h2{font-weight:800;font-size:clamp(22px,3vw,32px);color:var(--green);margin-bottom:24px;position:relative}
h2::after{content:"";display:block;width:72px;height:3px;background:var(--red);margin-top:10px}
h3{font-weight:700;margin-bottom:8px}
p{margin:10px 0}
.muted{color:var(--muted);font-size:.95rem}
.check li{list-style:none;padding-left:28px;position:relative;margin:6px 0}
.check li::before{content:"âœ“";position:absolute;left:0;color:var(--green);}

/* Buttons */
.btn{display:inline-block;background:var(--red);color:#fff;border:none;border-radius:8px;padding:12px 18px;font-weight:700;cursor:pointer;transition:.25s}
.btn:hover{background:#a50d1e;transform:translateY(-2px)}
.btn-small{font-size:.9rem;padding:8px 12px;background:var(--green)}
.btn-small:hover{background:#007a29}
.btn-alt{background:transparent;border:2px solid #fff}
.btn-alt:hover{background:#ffffff1a}

/* Nav */
nav{position:fixed;left:0;top:0;right:0;z-index:1000;background:rgba(0,0,0,.85);backdrop-filter:blur(10px);border-bottom:1px solid #ffffff1a}
nav .logo a{color:#fff;text-decoration:none;font-weight:800;font-size:1.2rem;letter-spacing:.5px}
nav .logo span span{color:var(--green)}
nav .nav-links{display:flex;gap:20px;list-style:none}
nav .nav-links a{color:#fff;text-decoration:none;padding:18px 8px;position:relative}
nav .nav-links a::after{content:"";position:absolute;left:8px;right:8px;bottom:12px;height:2px;background:transparent;transition:.2s}
nav .nav-links a:hover::after{background:var(--red)}
nav, .nav-inner{display:flex;align-items:center;justify-content:space-between;padding:12px min(5vw,24px)}

/* Hamburger */
.hamburger{display:none;background:none;border:none;cursor:pointer}
.hamburger .bar{display:block;width:24px;height:2px;background:#fff;margin:5px 0}

/* Mobile nav */
.mobile-nav{position:fixed;inset:0;background:rgba(0,0,0,.95);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;z-index:999}
.mobile-nav ul{list-style:none;text-align:center}
.mobile-nav li{margin:12px 0}
.mobile-nav a{color:#fff;text-decoration:none;font-size:1.4rem}

/* Hero */
.hero{position:relative;min-height:calc(100vh - 0px);display:flex;align-items:center}
.hero::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,.15)}
.hero-overlay{position:absolute;inset:0;background:linear-gradient(90deg, rgba(0,0,0,.9) 28%, rgba(0,0,0,.2) 75%)}
.hero-content{position:relative;z-index:2;width:min(560px,92%);margin-left:min(5vw,40px)}
.hero-text h1{font-family:Georgia,serif}
.hero-text p{font-size:1.1rem;color:var(--muted)}
.hero-buttons{display:flex;gap:12px;margin-top:10px;flex-wrap:wrap}

/* Stats */
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:16px}
.stat{background:var(--card);border-radius:10px;padding:16px;text-align:center}
.stat .num{font-size:2rem;font-weight:800;color:var(--red)}
.stat .lbl{color:var(--muted)}

/* Updates */
.updates{display:grid;gap:10px}
.updates li{background:var(--card);border-radius:8px;padding:12px}

/* Timeline popup */
.timeline-popup{position:fixed;inset:0;background:rgba(0,0,0,.9);display:flex;align-items:flex-start;justify-content:center;padding:40px 16px}
.timeline-popup[hidden]{display:none}
.timeline-popup-content{background:#222;border:1px solid #444;color:#fff;max-width:900px;width:100%;border-radius:12px;padding:24px;position:relative}
.close-timeline{position:absolute;right:12px;top:8px;background:none;border:none;color:#aaa;font-size:32px;cursor:pointer}
.timeline-container{margin-top:12px}
.timeline-event{display:flex;border-left:3px solid var(--red);padding:10px 12px;margin:12px 0;cursor:pointer;background:#1c1c1c;border-radius:6px}
.timeline-event:hover{background:#262626}
.event-date{color:var(--red);font-weight:800;width:80px}
.event-content h3{color:var(--green)}

/* Modal (Donate) */
.modal[hidden]{display:none}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;padding:16px;z-index:1001}
.modal-inner{background:#222;border:1px solid #444;border-radius:12px;padding:20px;max-width:520px;width:100%}
.modal-close{position:absolute;right:18px;top:8px;background:none;border:none;color:#aaa;font-size:28px;cursor:pointer}
.link-list{list-style:none;padding-left:0}
.link-list li{margin:6px 0}
.link-list a{color:#0fe676;text-decoration:underline}

/* Tables */
.table{width:100%;border-collapse:collapse;border-spacing:0;background:var(--card);border-radius:10px;overflow:hidden}
.table th,.table td{padding:12px;border-bottom:1px solid #333;text-align:left}
.toolbar{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
input[type="search"], select{background:#1c1c1c;color:#fff;border:1px solid #333;border-radius:8px;padding:10px}

/* Footer */
.footer{background:#000;margin-top:40px}
.footer-inner{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;padding:32px 0}
.footer-bottom{border-top:1px solid #222;padding:12px 0}

/* Responsive */
@media (max-width: 900px){
  .nav-links{display:none}
  .hamburger{display:block}
}

/* Search UI */
.site-search{position:relative;display:flex;align-items:center;margin-left:auto;max-width:420px;width:100%}
.search-input{
  width:100%; padding:10px 12px; border-radius:8px; border:1px solid #2a2a2a; background:#1a1a1a; color:#fff;
  outline:none; transition:.2s; font-size:.95rem; margin-left:12px;
}
.search-input:focus{border-color:#444; box-shadow:0 0 0 2px rgba(206,17,38,.25)}
.search-panel{
  position:absolute; top:110%; right:0; width:min(640px,95vw); background:#1b1b1b; border:1px solid #333;
  border-radius:10px; box-shadow:0 12px 28px rgba(0,0,0,.45); padding:8px; z-index:1002;
}
.search-results{list-style:none; max-height:60vh; overflow:auto}
.search-results li{padding:10px 12px; border-radius:8px; display:flex; gap:10px; align-items:flex-start; cursor:pointer}
.search-results li:hover, .search-results li[aria-selected="true"]{background:#242424}
.search-results a{color:#fff; text-decoration:none; display:block; width:100%}
.search-kicker{font-size:.8rem; color:#a5a5a5; text-transform:uppercase; letter-spacing:.04em; white-space:nowrap}
.search-title{font-weight:700}
.search-summary{color:#cfcfcf; font-size:.9rem}
.search-close{
  position:absolute; right:6px; top:4px; width:28px; height:28px; border:none; border-radius:50%; background:transparent; color:#aaa; cursor:pointer; font-size:20px;
}
.search-close:hover{background:#2b2b2b; color:#fff}

/* Hide the search on very narrow screens if crowded */
@media (max-width: 600px){
  .site-search{display:none}
}

/* Myths vs Facts */
details summary {
  cursor: pointer;
  padding: 10px;
  background-color: var(--card);
  border-radius: 5px;
  margin-bottom: 5px;
}

details > div {
  padding: 10px;
  background-color: var(--bg-alt);
  border-radius: 5px;
  margin-bottom: 5px;
}

.copy-citation {
  background-color: var(--green);
  color: #fff;
  border: none;
  border-radius: 5px;
  padding: 5px 10px;
  cursor: pointer;
}

.copy-citation:hover {
  background-color: #007a29;
}

/* Theme toggle */
.theme-toggle {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.theme-toggle button {
  background: none;
  border: none;
  color: #fff;
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 0.25rem;
}

.theme-toggle button:hover,
.theme-toggle button:focus {
  background-color: #ffffff1a;
  outline: none;
}

html[data-theme='light'] {
  --bg: #fff;
  --bg-alt: #f0f0f0;
  --card: #fff;
  --text: #000;
}

html[data-theme='hc'] {
  --bg: #000;
  --bg-alt: #222;
  --card: #333;
  --text: #ff0;
  --muted: #ccc;
}

/* Print Styles for Education Kits */
@media print {
    body {
        background-color: #fff !important;
        color: #000 !important;
        padding-top: 0 !important;
    }

    header, footer, nav, .hero-buttons, .btn, .site-search, .theme-toggle {
        display: none !important;
    }

    a {
        color: #000 !important;
        text-decoration: underline !important;
    }

    a[href]:after {
        content: " (" attr(href) ")";
        font-size: 90%;
        word-break: break-all;
    }

    .section, .section-alt {
        background-color: #fff !important;
        color: #000 !important;
        box-shadow: none !important;
        border: none !important;
        padding: 20px 0;
    }

    .container {
        width: 100%;
        margin: 0;
        padding: 0;
    }

    h1, h2, h3, h4, p, li {
        color: #000 !important;
    }

    .hero-content {
        text-align: left;
        margin: 0;
        width: 100%;
        padding: 0;
    }

    .hero-content h1 {
        color: #000 !important;
        font-size: 24pt;
        margin-bottom: 10px;
    }

    .hero-content p {
        color: #333 !important;
        font-size: 12pt;
    }

    .legal-card, .timeline-event, .resource-card, .news-card, .betrayal-item, .method, .option, .stat-card, .highlight {
        background-color: #fff !important;
        border: 1px solid #ccc !important;
        box-shadow: none !important;
        page-break-inside: avoid;
        margin-bottom: 15px;
    }

    .legal-card-type, .badge {
        background-color: #eee !important;
        color: #000 !important;
        border: 1px solid #ccc;
    }

    .grid-container {
        display: block;
    }

    .timeline-event {
        border-left: 3px solid #000 !important;
    }

    .event-date {
        color: #000 !important;
    }

    .event-content h3 {
        color: #000 !important;
    }

    .copy-citation-btn {
        display: none !important;
    }

    /* Ensure images are visible but don't break layout */
    img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 10px 0;
    }
}
/* Print Styles for Education Kits */
@media print {
    body {
        background-color: #fff !important;
        color: #000 !important;
        padding-top: 0 !important;
    }

    header, footer, nav, .hero-buttons, .btn, .site-search, .theme-toggle {
        display: none !important;
    }

    a {
        color: #000 !important;
        text-decoration: underline !important;
    }

    a[href]:after {
        content: " (" attr(href) ")";
        font-size: 90%;
        word-break: break-all;
    }

    .section, .section-alt {
        background-color: #fff !important;
        color: #000 !important;
        box-shadow: none !important;
        border: none !important;
        padding: 20px 0;
    }

    .container {
        width: 100%;
        margin: 0;
        padding: 0;
    }

    h1, h2, h3, h4, p, li {
        color: #000 !important;
    }

    .hero-content {
        text-align: left;
        margin: 0;
        width: 100%;
        padding: 0;
    }

    .hero-content h1 {
        color: #000 !important;
        font-size: 24pt;
        margin-bottom: 10px;
    }

    .hero-content p {
        color: #333 !important;
        font-size: 12pt;
    }

    .legal-card, .timeline-event, .resource-card, .news-card, .betrayal-item, .method, .option, .stat-card, .highlight {
        background-color: #fff !important;
        border: 1px solid #ccc !important;
        box-shadow: none !important;
        page-break-inside: avoid;
        margin-bottom: 15px;
    }

    .legal-card-type, .badge {
        background-color: #eee !important;
        color: #000 !important;
        border: 1px solid #ccc;
    }

    .grid-container {
        display: block;
    }

    .timeline-event {
        border-left: 3px solid #000 !important;
    }

    .event-date {
        color: #000 !important;
    }

    .event-content h3 {
        color: #000 !important;
    }

    .copy-citation-btn {
        display: none !important;
    }

    /* Ensure images are visible but don't break layout */
    img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 10px 0;
    }
}

/* Legal Library Styles */
.legal-library-hero {
    text-align: center;
    padding: 40px 20px;
    background-color: var(--bg-alt);
    border-bottom: 1px solid var(--card);
}

.legal-library-hero h1 {
    color: var(--green);
    margin-bottom: 10px;
}

.legal-library-hero p {
    max-width: 700px;
    margin: 0 auto;
    color: var(--muted);
}

.legal-filters-search {
    padding: 20px;
    background-color: var(--card);
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
    align-items: center;
    border-bottom: 1px solid var(--bg-alt);
}

.search-container, .filter-group {
    flex: 1;
    min-width: 200px;
    max-width: 300px;
}

.legal-filters-search input[type="text"],
.legal-filters-search select {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid var(--bg-alt);
    background-color: var(--bg);
    color: var(--text);
    font-size: 1rem;
    outline: none;
    transition: border-color 0.2s;
}

.legal-filters-search input[type="text"]:focus,
.legal-filters-search select:focus {
    border-color: var(--red);
}

.results-info {
    flex-basis: 100%;
    text-align: center;
    margin-top: 10px;
    font-size: 0.9rem;
    color: var(--muted);
}

.legal-cards-container {
    padding: 20px;
}

.legal-card {
    background-color: var(--card);
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease-in-out;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.legal-card:hover {
    transform: translateY(-5px);
}

.legal-card-title {
    color: var(--green);
    margin-bottom: 10px;
    font-size: 1.3rem;
}

.legal-card-meta {
    display: flex;
    gap: 10px;
    margin-bottom: 10px;
    align-items: center;
}

.legal-card-type {
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 0.85rem;
    font-weight: bold;
    color: #fff;
}

.type-un { background-color: #007bff; } /* Blue */
.type-icj { background-color: #6f42c1; } /* Purple */
.type-icc { background-color: #fd7e14; } /* Orange */
.type-treaty { background-color: #20c997; } /* Teal */

.legal-card-year {
    font-size: 0.9rem;
    color: var(--muted);
}

.legal-card-summary {
    font-size: 1rem;
    color: var(--text);
    margin-bottom: 15px;
    flex-grow: 1;
}

.legal-card-link {
    display: inline-block;
    background-color: var(--red);
    color: #fff;
    padding: 8px 15px;
    border-radius: 5px;
    text-decoration: none;
    font-weight: bold;
    transition: background-color 0.2s;
}

.legal-card-link:hover {
    background-color: #a50d1e;
}

/* Accessibility */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}
